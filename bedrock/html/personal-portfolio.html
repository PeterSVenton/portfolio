<h1>Building a Portfolio</h1>
<h2>Context</h2>
<p>In order to showcase my skillset and abilities I thought it'd be best to create a website. I did this using <a href="https://nextjs.org/">Next.js</a>, a <a href="https://react.dev/">React</a> framework. In case you're unfamilar React is a javascript/typescript based UI framework. Its what lets me create cards like the one below.</p>
<div><span><span>warning</span></span></div><div>I'm a callout</div>
<p>To create this card I have a component, you can think of a component as a function that returns <a href="https://react.dev/learn/writing-markup-with-jsx">jsx</a>.</p>
<pre><code class="language-tsx">
type Kind = 'info' | 'success' | 'warning' | 'danger' | 'tip'

const STYLES: Record&#x3C;Kind, { icon: LucideIcon; box: string; badge: string }> = {
  info: {icon: Info, box: 'bg-sky-50 border-sky-200', badge: 'bg-sky-100 text-sky-800' },
  success: {icon: CheckCircle2, box: 'bg-emerald-50 border-emerald-200', badge: 'bg-emerald-100 text-emerald-800' },
  warning: {icon: AlertTriangle, box: 'bg-amber-50 border-amber-200', badge: 'bg-amber-100 text-amber-800' },
  danger: {icon: ShieldAlert, box: 'bg-rose-50 border-rose-200', badge: 'bg-rose-100 text-rose-800' },
  tip: {icon: Lightbulb, box: 'bg-violet-50 border-violet-200', badge: 'bg-violet-100 text-violet-800' },
}

export function Callout({
  kind = 'info',
  title,
  children,
  className,
}: {
  kind?: Kind
  title?: string
  children: React.ReactNode
  className?: string
}) {
  const { icon: Icon, box, badge } = STYLES[kind]
  return (
    &#x3C;aside role="note" className={`rounded-xl border p-4 ${box} ${className ?? ''}`}>
      &#x3C;div className="mb-2 inline-flex items-center gap-2">
        &#x3C;span className={`inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs ${badge}`}>
          &#x3C;Icon className="h-4 w-4" />
          &#x3C;span className="capitalize">{title ?? kind}&#x3C;/span>
        &#x3C;/span>
      &#x3C;/div>
      &#x3C;div className="text-sm text-neutral-800">{children}&#x3C;/div>
    &#x3C;/aside>
  )
}

export default Callout
</code></pre>
<p>As you can see there's 5 different types of callouts I've defined.</p>
<pre><code class="language-ts">type Kind = 'info' | 'success' | 'warning' | 'danger' | 'tip'
</code></pre>
<p>Additionally I can create the callout like below.</p>
<pre><code class="language-tsx">&#x3C;Callout kind="warning">I&#x26;apos;m a callout&#x3C;/Callout>
</code></pre>
<h2>The End Goal</h2>
<h3>Functionality</h3>
<p>Ignoring the design for a second there was some core functionality I wanted the website to have, namely:</p>
<ol>
<li>A clear hero with a call to action on the <a href="https://www.peterventon.co.uk/">homepage</a></li>
<li>The ability to showcase projects which push the boundaries of a traditional portfolio</li>
<li>A gpt like interactive chat that allows people to ask questions about me with the response linking them to relevant sections</li>
<li>An about me page and a place to publish articles using markdown</li>
<li>The ability to add mermaid charts into markdown files and precompile the svgs as a static asset</li>
</ol>
<h3>Design</h3>
<p>I'm not a design expert but I wanted the website to represent me. I've always found minamalistic design to be beautiful when done correctly, hence you can probably see the website isn't flashy.</p>
<h2>Building the site</h2>
<p>Most of the build moved quickly because I’d already sketched the layout in <a href="https://www.figma.com/">Figma</a>. The first real decision was <strong>how to publish articles</strong> without dragging in a full CMS.</p>
<p>I knew I wanted <strong>Markdown/MDX</strong> so content is easy to edit and version with the code. Next.js plays nicely here: I enabled MDX with a couple of <strong>remark/rehype</strong> plugins (including GitHub-flavoured markdown) so I get tables, task lists, and autolinked headings out of the box.</p>
<h3>Adding Markdown Support</h3>
<p>The default “one MDX file per route folder” pattern (e.g. <code>app/foo/page.mdx</code>) didn’t scale for me because every article would live in a different directory. Instead, I created a single dynamic route <code>app/[slug]/page.tsx</code> and keep all posts together in a common folder (<code>src/app/md-pages</code>). At <strong>build time</strong>, <code>generateStaticParams()</code> reads that folder to produce slugs, and the page loads the matching MDX:</p>
<pre><code class="language-tsx">// app/[slug]/page.tsx (simplified)

export default async function Page({
  params,
}: {
  params: Promise&#x3C;{ slug: string }>
}) {
  const { slug } = await params
  const { default: Post } = await import(`@/app/md-pages/${slug}.mdx`)
 
  return &#x3C;Post />
}
 
export function generateStaticParams() {
  
  const slugs = articles.map(a => ({slug: a.slug}))
  return slugs
}
 
export const dynamicParams = false
</code></pre>
<p>This gives me clean URLs like /report-migration, a single source of truth for content, and no CMS overhead. The full architecture can be seen below:</p>
<svg id="mermaid-0" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1356.265625px;" viewBox="0 0 1356.265625 94" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-0 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-0 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:1px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 p{margin:0;}#mermaid-0 .label{font-family:arial,sans-serif;color:#333;}#mermaid-0 .cluster-label text{fill:#333;}#mermaid-0 .cluster-label span{color:#333;}#mermaid-0 .cluster-label span p{background-color:transparent;}#mermaid-0 .label text,#mermaid-0 span{fill:#333;color:#333;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0 .rough-node .label text,#mermaid-0 .node .label text,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-anchor:middle;}#mermaid-0 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0 .rough-node .label,#mermaid-0 .node .label,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-0 .arrowheadPath{fill:#333333;}#mermaid-0 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:#333333;fill:none;}#mermaid-0 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-0 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-0 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-0 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-0 .cluster text{fill:#333;}#mermaid-0 .cluster span{color:#333;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0 rect.text{fill:none;stroke-width:0;}#mermaid-0 .icon-shape,#mermaid-0 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-0 .icon-shape p,#mermaid-0 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-0 .icon-shape rect,#mermaid-0 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-0 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-0 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker id="mermaid-0_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-0_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-0_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-0_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M206.766,47L210.932,47C215.099,47,223.432,47,231.099,47C238.766,47,245.766,47,249.266,47L252.766,47" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjA2Ljc2NTYyNSwieSI6NDd9LHsieCI6MjMxLjc2NTYyNSwieSI6NDd9LHsieCI6MjU2Ljc2NTYyNSwieSI6NDd9XQ==" marker-end="url(#mermaid-0_flowchart-v2-pointEnd)"></path><path d="M516.766,47L520.932,47C525.099,47,533.432,47,541.099,47C548.766,47,555.766,47,559.266,47L562.766,47" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NTE2Ljc2NTYyNSwieSI6NDd9LHsieCI6NTQxLjc2NTYyNSwieSI6NDd9LHsieCI6NTY2Ljc2NTYyNSwieSI6NDd9XQ==" marker-end="url(#mermaid-0_flowchart-v2-pointEnd)"></path><path d="M826.766,47L830.932,47C835.099,47,843.432,47,851.099,47C858.766,47,865.766,47,869.266,47L872.766,47" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6ODI2Ljc2NTYyNSwieSI6NDd9LHsieCI6ODUxLjc2NTYyNSwieSI6NDd9LHsieCI6ODc2Ljc2NTYyNSwieSI6NDd9XQ==" marker-end="url(#mermaid-0_flowchart-v2-pointEnd)"></path><path d="M1066.594,47L1070.76,47C1074.927,47,1083.26,47,1090.927,47C1098.594,47,1105.594,47,1109.094,47L1112.594,47" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6MTA2Ni41OTM3NSwieSI6NDd9LHsieCI6MTA5MS41OTM3NSwieSI6NDd9LHsieCI6MTExNi41OTM3NSwieSI6NDd9XQ==" marker-end="url(#mermaid-0_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(107.3828125, 47)"><rect class="basic label-container" style="" x="-99.3828125" y="-27" width="198.765625" height="54"></rect><g class="label" style="" transform="translate(-69.3828125, -12)"><rect></rect><foreignObject width="138.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>/app/[slug]/page.tsx</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-1" transform="translate(386.765625, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Dynamic Import of MDX File</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-3" transform="translate(696.765625, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>React Component Rendered</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-5" transform="translate(971.6796875, 47)"><rect class="basic label-container" style="" x="-94.9140625" y="-27" width="189.828125" height="54"></rect><g class="label" style="" transform="translate(-64.9140625, -12)"><rect></rect><foreignObject width="129.828125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Static Page HTML</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-7" transform="translate(1232.4296875, 47)"><rect class="basic label-container" style="" x="-115.8359375" y="-27" width="231.671875" height="54"></rect><g class="label" style="" transform="translate(-85.8359375, -12)"><rect></rect><foreignObject width="171.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Deployed on Vercel / S3</p></span></div></foreignObject></g></g></g></g></g></svg>
<h3>Integrating AWS Knowledge Base</h3>
<p>Since I wanted to add a chatbot to the site to showcase my ability to use cutting edge technology I was happy to see knowledge base supported markdown files natively. The issue was I wasn't using <code>.md</code> files, I'm using <code>.mdx</code> files. These are exactly the same as markdown but it lets me use react components inside my markdown.</p>
<p>i.e. On my report migration article you'll see the below.</p>
<div><div><div>100+</div><div>Reports Rebuilt</div><div>Over the course of 1 year</div></div><div><div>5</div><div>Critical DW issues fixed</div><div>Issues which impacted our P&#x26;L</div></div><div><div>6x</div><div>Faster response time</div><div>Weeks → Days for complex reports</div></div></div>
<p>See the below snippet for the mdx file's content.</p>
<pre><code class="language-tsx">&#x3C;div className="mt-6 grid gap-3 sm:grid-cols-3">
  &#x3C;Metric value="100+" label="Reports Rebuilt" note="Over the course of 1 year" />
  &#x3C;Metric value="5" label="Critical DW issues fixed" note="Issues which impacted our P&#x26;L" />
  &#x3C;Metric value="6x" label="Faster response time" note="Weeks &#x26;rarr; Days for complex reports" />
&#x3C;/div>
</code></pre>
<p>This isn't standard markdown and not supported by knowlegde base. I could have dropped the custom components just for knowledge base but I thought they provided important content. Therefore I checked for other supported file types in knowledge base and saw it supports html.</p>
<p>This browser is rendering html so all my mdx pages can compile to raw html. In order to do this I prebuild my html content for knowledge base and output it to <code>bedrock/html</code>. I came up with the below function to convert my mdx files into html and store them at the output location.</p>
<pre><code class="language-mjs">// scripts/mdxtohtml.mjs


// super basic function
function stripImports(file) {
  return file
    .split(/\n/)
    .filter(line => !/^\s*import\b/.test(line))
    .join('\n')
}

const components = { Metric, Callout }

const MD_FILES_PATH = path.join(process.cwd(), 'src/app/md-pages')
const OUTPUT_PATH = path.join(process.cwd(), 'bedrock', 'html')

// scripts/mdxtohtml.mjs
// compiles a mdx page to html, requires the components to be specified
async function compileOne(filePath) {
  const mdx = await fs.readFile(filePath, 'utf8')
  const mdxClean = stripImports(mdx)

  const { default: MDXContent } = await evaluate(mdxClean, {
    ...runtime,
    useMDXComponents: () => components,
    baseUrl: pathToFileURL(filePath)
  })

  const html = renderToStaticMarkup(React.createElement(MDXContent, { components }))

  const safe = String(
    await unified()
      .use(rehypeParse, { fragment: true })
      .use(rehypeSanitize)
      .use(rehypeStringify)
      .process(html)
  )

  const slug = path.basename(filePath).replace(/\.mdx$/, '')
  await fs.mkdir(OUTPUT_PATH, { recursive: true })
  await fs.writeFile(path.join(OUTPUT_PATH, `${slug}.html`), safe, 'utf8')
}

// this is tied to a npm script in package.json so you specify an argument
async function run() {
  const args = process.argv.slice(2)
  if (args.length === 0){
    throw new Error("Must specify an argument, to build all run with -a")
  }

  // checks every file in the md-pages dir
  if (args.includes('-a')) {
    const files = (await fs.readdir(MD_FILES_PATH)).filter(f => /\.mdx$/.test(f))
    for (const f of files) {
      try { await compileOne(path.join(MD_FILES_PATH, f)); console.log('generated html for', f) }
      catch (e) { console.error('failed to generate html for', f, '\n', e) }
    }
    return
  }

  // build just the provided slugs/paths
  for (const arg of args) {
    const abs = path.resolve(arg)
    try { await compileOne(abs); console.log('generated html for', abs) }
    catch (e) { console.error('failed to generate html for', abs, '\n', e) }
  }
}

run().catch(err => (console.error(err), process.exit(1)))
</code></pre>
<p>Lets simplify this and break my solution down</p>
<p>We have a function to compile a single mdx page named <code>compileOne()</code> which takes the path to a mdx file.</p>
<p>This is what the function does</p>
<pre><code class="language-mjs">  // read the file from the filesystem 
  const mdx = await fs.readFile(filePath, 'utf8')
  // this just strips the import statements at the top of the mdx file because of how evaluate() works 
  const mdxClean = stripImports(mdx)

  // evaluate takes the given content and turns it into html, useMDXComponents lets it know about custom components which we store in our components variable
  const { default: MDXContent } = await evaluate(mdxClean, {
    ...runtime,
    useMDXComponents: () => components,
    baseUrl: pathToFileURL(filePath)
  })
  
  //normally React.createElement is called by BABEL but here we manually instantiate it to get our html tree
  const html = renderToStaticMarkup(React.createElement(MDXContent, { components }))


  // finally get the content
  const safe = String(
    await unified()
    .use(rehypeParse, { fragment: true })
    .use(rehypeSanitize)
    .use(rehypeStringify)
    .process(html)
    )

  // write the html to a file in the bedrock/html folder
  const slug = path.basename(filePath).replace(/\.mdx$/, '')
  await fs.mkdir(OUTPUT_PATH, { recursive: true })
  await fs.writeFile(path.join(OUTPUT_PATH, `${slug}.html`), safe, 'utf8')
</code></pre>
<p>We have a run function that loops over every file in md-pages and calls compile one. I made sure to add this to my npm scripts so I have a quick way to compile all my <code>.mdx</code> files to html. In this project's <code>package.json</code> you'll see:</p>
<pre><code class="language-json">"scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",

    // custom script we added
    "kb:build": "tsx -r tsconfig-paths/register src/scripts/mdxtohtml.mjs"
  }
</code></pre>
<p>This output folder is what bedrock builds the knowledge base off of so when a user asks a question it is able to have relevant information to answer the user's question. The full design can be seen in the graph below:</p>
<svg id="mermaid-1" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1747.875px;" viewBox="0 0 1747.875 94" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-1{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-1 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-1 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-1 .error-icon{fill:#552222;}#mermaid-1 .error-text{fill:#552222;stroke:#552222;}#mermaid-1 .edge-thickness-normal{stroke-width:1px;}#mermaid-1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1 .marker{fill:#333333;stroke:#333333;}#mermaid-1 .marker.cross{stroke:#333333;}#mermaid-1 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-1 p{margin:0;}#mermaid-1 .label{font-family:arial,sans-serif;color:#333;}#mermaid-1 .cluster-label text{fill:#333;}#mermaid-1 .cluster-label span{color:#333;}#mermaid-1 .cluster-label span p{background-color:transparent;}#mermaid-1 .label text,#mermaid-1 span{fill:#333;color:#333;}#mermaid-1 .node rect,#mermaid-1 .node circle,#mermaid-1 .node ellipse,#mermaid-1 .node polygon,#mermaid-1 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1 .rough-node .label text,#mermaid-1 .node .label text,#mermaid-1 .image-shape .label,#mermaid-1 .icon-shape .label{text-anchor:middle;}#mermaid-1 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1 .rough-node .label,#mermaid-1 .node .label,#mermaid-1 .image-shape .label,#mermaid-1 .icon-shape .label{text-align:center;}#mermaid-1 .node.clickable{cursor:pointer;}#mermaid-1 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-1 .arrowheadPath{fill:#333333;}#mermaid-1 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-1 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1 .cluster text{fill:#333;}#mermaid-1 .cluster span{color:#333;}#mermaid-1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1 rect.text{fill:none;stroke-width:0;}#mermaid-1 .icon-shape,#mermaid-1 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-1 .icon-shape p,#mermaid-1 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-1 .icon-shape rect,#mermaid-1 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-1 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-1 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-1 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker id="mermaid-1_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-1_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-1_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M191.563,47L195.729,47C199.896,47,208.229,47,215.896,47C223.563,47,230.563,47,234.063,47L237.563,47" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MTkxLjU2MjUsInkiOjQ3fSx7IngiOjIxNi41NjI1LCJ5Ijo0N30seyJ4IjoyNDEuNTYyNSwieSI6NDd9XQ==" marker-end="url(#mermaid-1_flowchart-v2-pointEnd)"></path><path d="M501.563,47L505.729,47C509.896,47,518.229,47,525.896,47C533.563,47,540.563,47,544.063,47L547.563,47" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NTAxLjU2MjUsInkiOjQ3fSx7IngiOjUyNi41NjI1LCJ5Ijo0N30seyJ4Ijo1NTEuNTYyNSwieSI6NDd9XQ==" marker-end="url(#mermaid-1_flowchart-v2-pointEnd)"></path><path d="M809.875,47L814.042,47C818.208,47,826.542,47,834.208,47C841.875,47,848.875,47,852.375,47L855.875,47" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6ODA5Ljg3NSwieSI6NDd9LHsieCI6ODM0Ljg3NSwieSI6NDd9LHsieCI6ODU5Ljg3NSwieSI6NDd9XQ==" marker-end="url(#mermaid-1_flowchart-v2-pointEnd)"></path><path d="M1119.875,47L1124.042,47C1128.208,47,1136.542,47,1144.208,47C1151.875,47,1158.875,47,1162.375,47L1165.875,47" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6MTExOS44NzUsInkiOjQ3fSx7IngiOjExNDQuODc1LCJ5Ijo0N30seyJ4IjoxMTY5Ljg3NSwieSI6NDd9XQ==" marker-end="url(#mermaid-1_flowchart-v2-pointEnd)"></path><path d="M1429.875,47L1434.042,47C1438.208,47,1446.542,47,1454.208,47C1461.875,47,1468.875,47,1472.375,47L1475.875,47" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MTQyOS44NzUsInkiOjQ3fSx7IngiOjE0NTQuODc1LCJ5Ijo0N30seyJ4IjoxNDc5Ljg3NSwieSI6NDd9XQ==" marker-end="url(#mermaid-1_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E_F_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(99.78125, 47)"><rect class="basic label-container" style="" x="-91.78125" y="-27" width="183.5625" height="54"></rect><g class="label" style="" transform="translate(-61.78125, -12)"><rect></rect><foreignObject width="123.5625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>MDX Files (.mdx)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-1" transform="translate(371.5625, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>MDX → HTML Compiler (mdxtohtml.mjs)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-3" transform="translate(680.71875, 47)"><rect class="basic label-container" style="" x="-129.15625" y="-27" width="258.3125" height="54"></rect><g class="label" style="" transform="translate(-99.15625, -12)"><rect></rect><foreignObject width="198.3125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Output Folder: bedrock/html</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-5" transform="translate(989.875, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>S3 Bucket (Knowledge Base Store)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-7" transform="translate(1299.875, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>AWS Bedrock Knowledge Base</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F-9" transform="translate(1609.875, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Chat Interface (User Queries)</p></span></div></foreignObject></g></g></g></g></g></svg>
<h3>Setting Up Google Analytics 4</h3>
<p>I want my website to have some unique projects to showcase my diverse skillset. I was thinking about how I can show my PowerBI abilities without creating a generic report from an existing dataset. After a few days of thinking I decided I would build a report based on this website's GA4 (Google Analytics Data).</p>
<p>This would showcase a few of my skills:</p>
<ol>
<li>The ability to use different technologies</li>
<li>The ability to create and orchestrate an ETL process to clean data</li>
<li>The ability to tell a data story with PowerBI</li>
</ol>
<h4>Setting up a Cookie Banner to use GA4</h4>
<p>I'm going to be honest, I've never used google analytics before so the task wasn't super trivial. Luckily for widely used technical tools there's always extremely good documentation.</p>
<p>The first thing I learned is I was going to need a cookie banner, since I would be tracking anonymized user data. I decided to use <a href="https://www.consentmanager.net/en/">ConsentManager</a> to power the cookie banner. I read the <a href="https://help.consentmanager.net/books/cmp/page/implementation-using-server-side-rendering">docs</a> on how to implement the cookie banner using server side rendering and had the banner up and running within minutes. If you look at this project's github in the App's root layout you'll see:</p>
<pre><code class="language-tsx"> &#x3C;html lang="en">
      &#x3C;head>
        {/* consentmanager script https://help.consentmanager.net/books/cmp/page/implementation-using-server-side-rendering */}
        &#x3C;Script
          strategy="afterInteractive"
          type="text/javascript"
          data-cmp-ab="1"
          src="https://cdn.consentmanager.net/delivery/autoblocking/780fd577d2e68.js"
          data-cmp-host="d.delivery.consentmanager.net"
          data-cmp-cdn="cdn.consentmanager.net"
          data-cmp-codesrc="16"
          />
        &#x3C;GoogleAnalytics gaId="G-P6XTRVZP4H" />
      &#x3C;/head>

      &#x3C;body className={`${rubik.className} antialiased`}>
        &#x3C;Header />
        {children}
      &#x3C;/body>
    &#x3C;/html>
</code></pre>
<p>The <code>&#x3C;Script /></code> is handling the cookie banner. You can also see the <code>GoogleAnalytics</code> tag which is keeping track of key user events I want to show on my PowerBI report.</p>
<h4>Tracking Events using GA4</h4>
<p>Once the cookie banner was in place and GA4 started collecting anonymized session data, the next step was to decide which events to track. GA4 automatically tracks common interactions (page views, scrolls, outbound clicks, etc.), but I wanted more granular insight into how users explore the site, particularly on how they engage with my projects and articles.</p>
<p>I started by defining a simple event schema aligned with my content structure:</p>
<p>| Event Name | Trigger | Parameters |
| --- | --- | --- |
| View Project | When a user opens a project article | <code>{ project_name, category }</code> |
| view_article | When a user opens a blog/article | <code>{ article_title, topic }</code> |
| cta_click | When a user clicks an external or contact link | <code>{ cta_type, destination }</code> |
| scroll_depth | When a user scrolls beyond 75% of a page | <code>{ page_path }</code>|</p>
<p>These events let me answer questions like:</p>
<ul>
<li>Which projects attract the most attention?</li>
<li>Do visitors read technical articles in full, or bounce early?</li>
<li>Which calls to action convert best?</li>
</ul>
<p>To implement this, I used Google’s gtag.js API directly within my Next.js components. For example, every time a project page renders, it logs a <code>view_project</code> event:</p>
<pre><code class="language-tsx">'use client'

export default function ProjectView({ projectName, category }) {
  useEffect(() => {
    sendGAEvent('event', 'view_project', {
      project_name: projectName,
      category,
    })
  }, [projectName, category])
  return
}
</code></pre>
<p>Because the cookie banner controls consent, this script only fires once the user has accepted analytics cookies, keeping tracking compliant and transparent.</p>
<p>Over time, these events accumulate into a small but meaningful dataset in BigQuery, where GA4 automatically exports its underlying tables. I then transform this into a star schema for powerBI. That dataset becomes the foundation for a Power BI report showing real world usage metrics for my own site, everything from traffic by page to conversion paths and engagement time.</p>
<p>By designing and instrumenting GA4 myself, I demonstrated the entire workflow I’d use in a production analytics environment:</p>
<ul>
<li><strong>Instrumentation</strong> (deciding what to measure)</li>
<li><strong>Collection</strong> (ensuring compliant data capture)</li>
<li><strong>Transformation</strong> (cleaning and reshaping GA data for Power BI)</li>
<li><strong>Visualization</strong> (telling the story of user engagement)</li>
</ul>
<p>It’s a small project, but it neatly ties together my skills in <strong>web development</strong>, <strong>data engineering</strong>, and <strong>business intelligence</strong>, all using the real data from <a href="https://www.peterventon.co.uk/">peterventon.co.uk</a>.</p>
<p>If this was confusing the graph below shows the full process flow:</p>
<svg id="mermaid-2" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1165.78125px;" viewBox="0 0 1165.78125 70" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-2{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-2 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-2 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-2 .error-icon{fill:#552222;}#mermaid-2 .error-text{fill:#552222;stroke:#552222;}#mermaid-2 .edge-thickness-normal{stroke-width:1px;}#mermaid-2 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-2 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-2 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-2 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-2 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-2 .marker{fill:#333333;stroke:#333333;}#mermaid-2 .marker.cross{stroke:#333333;}#mermaid-2 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-2 p{margin:0;}#mermaid-2 .label{font-family:arial,sans-serif;color:#333;}#mermaid-2 .cluster-label text{fill:#333;}#mermaid-2 .cluster-label span{color:#333;}#mermaid-2 .cluster-label span p{background-color:transparent;}#mermaid-2 .label text,#mermaid-2 span{fill:#333;color:#333;}#mermaid-2 .node rect,#mermaid-2 .node circle,#mermaid-2 .node ellipse,#mermaid-2 .node polygon,#mermaid-2 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-2 .rough-node .label text,#mermaid-2 .node .label text,#mermaid-2 .image-shape .label,#mermaid-2 .icon-shape .label{text-anchor:middle;}#mermaid-2 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-2 .rough-node .label,#mermaid-2 .node .label,#mermaid-2 .image-shape .label,#mermaid-2 .icon-shape .label{text-align:center;}#mermaid-2 .node.clickable{cursor:pointer;}#mermaid-2 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-2 .arrowheadPath{fill:#333333;}#mermaid-2 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-2 .flowchart-link{stroke:#333333;fill:none;}#mermaid-2 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-2 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-2 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-2 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-2 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-2 .cluster text{fill:#333;}#mermaid-2 .cluster span{color:#333;}#mermaid-2 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-2 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-2 rect.text{fill:none;stroke-width:0;}#mermaid-2 .icon-shape,#mermaid-2 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-2 .icon-shape p,#mermaid-2 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-2 .icon-shape rect,#mermaid-2 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-2 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-2 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-2 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker id="mermaid-2_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-2_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-2_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-2_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-2_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-2_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M241.109,35L245.276,35C249.443,35,257.776,35,265.443,35C273.109,35,280.109,35,283.609,35L287.109,35" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjQxLjEwOTM3NSwieSI6MzV9LHsieCI6MjY2LjEwOTM3NSwieSI6MzV9LHsieCI6MjkxLjEwOTM3NSwieSI6MzV9XQ==" marker-end="url(#mermaid-2_flowchart-v2-pointEnd)"></path><path d="M448.047,35L452.214,35C456.38,35,464.714,35,472.38,35C480.047,35,487.047,35,490.547,35L494.047,35" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NDQ4LjA0Njg3NSwieSI6MzV9LHsieCI6NDczLjA0Njg3NSwieSI6MzV9LHsieCI6NDk4LjA0Njg3NSwieSI6MzV9XQ==" marker-end="url(#mermaid-2_flowchart-v2-pointEnd)"></path><path d="M675.438,35L679.604,35C683.771,35,692.104,35,699.771,35C707.438,35,714.438,35,717.938,35L721.438,35" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6Njc1LjQzNzUsInkiOjM1fSx7IngiOjcwMC40Mzc1LCJ5IjozNX0seyJ4Ijo3MjUuNDM3NSwieSI6MzV9XQ==" marker-end="url(#mermaid-2_flowchart-v2-pointEnd)"></path><path d="M930.391,35L934.557,35C938.724,35,947.057,35,954.724,35C962.391,35,969.391,35,972.891,35L976.391,35" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6OTMwLjM5MDYyNSwieSI6MzV9LHsieCI6OTU1LjM5MDYyNSwieSI6MzV9LHsieCI6OTgwLjM5MDYyNSwieSI6MzV9XQ==" marker-end="url(#mermaid-2_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(124.5546875, 35)"><rect class="basic label-container" style="" x="-116.5546875" y="-27" width="233.109375" height="54"></rect><g class="label" style="" transform="translate(-86.5546875, -12)"><rect></rect><foreignObject width="173.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Website Events (gtag.js)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-1" transform="translate(369.578125, 35)"><rect class="basic label-container" style="" x="-78.46875" y="-27" width="156.9375" height="54"></rect><g class="label" style="" transform="translate(-48.46875, -12)"><rect></rect><foreignObject width="96.9375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>GA4 Property</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-3" transform="translate(586.7421875, 35)"><rect class="basic label-container" style="" x="-88.6953125" y="-27" width="177.390625" height="54"></rect><g class="label" style="" transform="translate(-58.6953125, -12)"><rect></rect><foreignObject width="117.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>BigQuery Export</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-5" transform="translate(827.9140625, 35)"><rect class="basic label-container" style="" x="-102.4765625" y="-27" width="204.953125" height="54"></rect><g class="label" style="" transform="translate(-72.4765625, -12)"><rect></rect><foreignObject width="144.953125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Data Transformation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-7" transform="translate(1069.0859375, 35)"><rect class="basic label-container" style="" x="-88.6953125" y="-27" width="177.390625" height="54"></rect><g class="label" style="" transform="translate(-58.6953125, -12)"><rect></rect><foreignObject width="117.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Power BI Report</p></span></div></foreignObject></g></g></g></g></g></svg>
<h4>A/B Testing</h4>
<p>Once I had event tracking and analytics flowing into GA4, the next logical step was to explore A/B testing. This would let me use data to validate design and content decisions rather than relying purely on intuition.</p>
<p>Because this is a personal site, I wanted a lightweight, privacy-friendly approach that still demonstrates <strong>the core principles of experimentation</strong> you’d use in a professional environment.</p>
<h5>Designing the Experiment</h5>
<p>The hypothesis was simple:</p>
<blockquote>
<p>Would changing how I present my featured projects increase the percentage of users who click through to view them?</p>
</blockquote>
<p>I created two versions of the homepage hero section:</p>
<ul>
<li><strong>Variant A</strong>: Clean, text-focused layout with short project descriptions.</li>
<li><strong>Variant B</strong>: Card-style layout with preview images and a stronger “View Project” call-to-action.</li>
</ul>
<p>Rather than deploy two separate builds, I controlled the variant logic directly in Next.js using a client side flag persisted in localStorage (so users consistently see the same version):</p>
<pre><code class="language-tsx">'use client'

export default function HomeExperiment({ childrenA, childrenB }) {
  const [variant, setVariant] = useState&#x3C;string | null>(null)

  useEffect(() => {
    // Randomly assign A or B if not already assigned
    let v = localStorage.getItem('ab_variant')
    if (!v) {
      v = Math.random() &#x3C; 0.5 ? 'A' : 'B'
      localStorage.setItem('ab_variant', v)
    }
    setVariant(v)
    sendGAEvent('event', 'ab_variant_assigned', { variant: v })
  }, [])

  if (!variant) return null
  return variant === 'A' ? childrenA : childrenB
}
</code></pre>
<p>This setup makes it trivial to wrap experimental content:</p>
<pre><code class="language-tsx">&#x3C;HomeExperiment
  childrenA={&#x3C;ProjectsTextOnly />}
  childrenB={&#x3C;ProjectsWithImages />}
/>
</code></pre>
<p>GA4’s custom events and exploration reports make it easy to compare outcomes.
Each time a user clicks into a project, the event payload includes the assigned variant:</p>
<pre><code class="language-tsx">sendGAEvent('event', 'view_project', {
  project_name,
  variant: localStorage.getItem('ab_variant'),
})
</code></pre>
<p>From there, I can visualize the performance of Variant A vs B in Power BI, calculating metrics like:</p>
<ul>
<li><strong>Click through rate (CTR)</strong> per variant</li>
<li><strong>Average engagement time</strong></li>
<li><strong>Bounce rate</strong> and <strong>scroll depth</strong></li>
</ul>
<p>Even though this is a small scale personal experiment, it mirrors how professional analytics teams run iterative design tests:</p>
<ul>
<li><strong>Form</strong> a measurable hypothesis.</li>
<li><strong>Randomly assign users</strong> to variants.</li>
<li><strong>Collect event level data</strong> through GA4.</li>
<li><strong>Analyze statistically</strong> which variant drives better engagement.</li>
</ul>
<p>Overall this allowed me to turn my own portfolio site into a living experiment. See the full A/B implementation below.</p>
<svg id="mermaid-3" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1302.5px;" viewBox="0 0 1302.5 222" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-3{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-3 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-3 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-3 .error-icon{fill:#552222;}#mermaid-3 .error-text{fill:#552222;stroke:#552222;}#mermaid-3 .edge-thickness-normal{stroke-width:1px;}#mermaid-3 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-3 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-3 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-3 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-3 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-3 .marker{fill:#333333;stroke:#333333;}#mermaid-3 .marker.cross{stroke:#333333;}#mermaid-3 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-3 p{margin:0;}#mermaid-3 .label{font-family:arial,sans-serif;color:#333;}#mermaid-3 .cluster-label text{fill:#333;}#mermaid-3 .cluster-label span{color:#333;}#mermaid-3 .cluster-label span p{background-color:transparent;}#mermaid-3 .label text,#mermaid-3 span{fill:#333;color:#333;}#mermaid-3 .node rect,#mermaid-3 .node circle,#mermaid-3 .node ellipse,#mermaid-3 .node polygon,#mermaid-3 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-3 .rough-node .label text,#mermaid-3 .node .label text,#mermaid-3 .image-shape .label,#mermaid-3 .icon-shape .label{text-anchor:middle;}#mermaid-3 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-3 .rough-node .label,#mermaid-3 .node .label,#mermaid-3 .image-shape .label,#mermaid-3 .icon-shape .label{text-align:center;}#mermaid-3 .node.clickable{cursor:pointer;}#mermaid-3 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-3 .arrowheadPath{fill:#333333;}#mermaid-3 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-3 .flowchart-link{stroke:#333333;fill:none;}#mermaid-3 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-3 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-3 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-3 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-3 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-3 .cluster text{fill:#333;}#mermaid-3 .cluster span{color:#333;}#mermaid-3 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-3 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-3 rect.text{fill:none;stroke-width:0;}#mermaid-3 .icon-shape,#mermaid-3 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-3 .icon-shape p,#mermaid-3 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-3 .icon-shape rect,#mermaid-3 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-3 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-3 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-3 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker id="mermaid-3_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-3_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-3_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-3_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-3_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-3_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M136.172,111L140.339,111C144.505,111,152.839,111,160.505,111C168.172,111,175.172,111,178.672,111L182.172,111" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MTM2LjE3MTg3NSwieSI6MTExfSx7IngiOjE2MS4xNzE4NzUsInkiOjExMX0seyJ4IjoxODYuMTcxODc1LCJ5IjoxMTF9XQ==" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M353.82,77.007L363.652,72.006C373.484,67.005,393.148,57.002,407.888,52.001C422.628,47,432.443,47,437.35,47L442.258,47" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6MzUzLjgxOTgyNjAwNzMyNiwieSI6NzcuMDA3MzI2MDA3MzI2MDF9LHsieCI6NDEyLjgxMjUsInkiOjQ3fSx7IngiOjQ0Ni4yNTc4MTI1LCJ5Ijo0N31d" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M353.82,144.993L363.652,149.994C373.484,154.995,393.148,164.998,406.48,169.999C419.813,175,426.813,175,430.313,175L433.813,175" id="L_B_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_D_0" data-points="W3sieCI6MzUzLjgxOTgyNjAwNzMyNiwieSI6MTQ0Ljk5MjY3Mzk5MjY3Mzk5fSx7IngiOjQxMi44MTI1LCJ5IjoxNzV9LHsieCI6NDM3LjgxMjUsInkiOjE3NX1d" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M666.055,47L671.629,47C677.203,47,688.352,47,697.426,47C706.5,47,713.5,47,717,47L720.5,47" id="L_C_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_E_0" data-points="W3sieCI6NjY2LjA1NDY4NzUsInkiOjQ3fSx7IngiOjY5OS41LCJ5Ijo0N30seyJ4Ijo3MjQuNSwieSI6NDd9XQ==" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M674.5,175L678.667,175C682.833,175,691.167,175,698.833,175C706.5,175,713.5,175,717,175L720.5,175" id="L_D_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_F_0" data-points="W3sieCI6Njc0LjUsInkiOjE3NX0seyJ4Ijo2OTkuNSwieSI6MTc1fSx7IngiOjcyNC41LCJ5IjoxNzV9XQ==" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M984.5,47L988.667,47C992.833,47,1001.167,47,1014.808,50.912C1028.45,54.824,1047.4,62.649,1056.875,66.561L1066.35,70.473" id="L_E_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_G_0" data-points="W3sieCI6OTg0LjUsInkiOjQ3fSx7IngiOjEwMDkuNSwieSI6NDd9LHsieCI6MTA3MC4wNDY4NzUsInkiOjcyfV0=" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path><path d="M984.5,175L988.667,175C992.833,175,1001.167,175,1014.808,171.088C1028.45,167.176,1047.4,159.351,1056.875,155.439L1066.35,151.527" id="L_F_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_G_0" data-points="W3sieCI6OTg0LjUsInkiOjE3NX0seyJ4IjoxMDA5LjUsInkiOjE3NX0seyJ4IjoxMDcwLjA0Njg3NSwieSI6MTUwfV0=" marker-end="url(#mermaid-3_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_D_F_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E_G_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_F_G_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(72.0859375, 111)"><rect class="basic label-container" style="" x="-64.0859375" y="-27" width="128.171875" height="54"></rect><g class="label" style="" transform="translate(-34.0859375, -12)"><rect></rect><foreignObject width="68.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>User Visit</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-1" transform="translate(286.9921875, 111)"><polygon points="100.8203125,0 201.640625,-100.8203125 100.8203125,-201.640625 0,-100.8203125" class="label-container" transform="translate(-100.3203125, 100.8203125)"></polygon><g class="label" style="" transform="translate(-73.8203125, -12)"><rect></rect><foreignObject width="147.640625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Random Assignment</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-3" transform="translate(556.15625, 47)"><rect class="basic label-container" style="" x="-109.8984375" y="-27" width="219.796875" height="54"></rect><g class="label" style="" transform="translate(-79.8984375, -12)"><rect></rect><foreignObject width="159.796875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Variant A (Text Layout)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-5" transform="translate(556.15625, 175)"><rect class="basic label-container" style="" x="-118.34375" y="-27" width="236.6875" height="54"></rect><g class="label" style="" transform="translate(-88.34375, -12)"><rect></rect><foreignObject width="176.6875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Variant B (Image Layout)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-7" transform="translate(854.5, 47)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>GA4 Event: view_project {variant:A}</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F-9" transform="translate(854.5, 175)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>GA4 Event: view_project {variant:B}</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-G-11" transform="translate(1164.5, 111)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>BigQuery / Power BI Analysis</p></span></div></foreignObject></g></g></g></g></g></svg>
<h3>Conclusion</h3>
<p>Building this portfolio turned out to be much more than a frontend exercise, it became a full stack project that touches almost every part of modern analytics engineering. From rendering custom MDX components to wiring up GA4, BigQuery, and Power BI, each step reinforced how data, design, and engineering intersect.</p>
<p><strong>Lessons Learned</strong></p>
<ul>
<li>
<p><strong>MDX → HTML conversion</strong> wasn’t as simple as expected. Evaluating MDX at build time and sanitizing it safely for Bedrock ingestion required careful control over imports and React rendering. It taught me a lot about how static generation pipelines and content sanitization actually work under the hood.</p>
</li>
<li>
<p><strong>GA4’s event schema</strong> is flexible but verbose. Flattening nested JSON structures into queryable BigQuery tables highlighted the importance of clear event design and consistent parameter naming.</p>
</li>
<li>
<p><strong>Cookies and consent</strong> in a server side rendered Next.js app took trial and error. Integrating ConsentManager cleanly into the app’s <code>&#x3C;head></code> logic gave me a practical understanding of privacy first analytics.</p>
</li>
<li>
<p><strong>Minimalism ≠ simplicity.</strong> Designing a clean interface that still surfaces interactivity, analytics, and experimental UX took more iteration than expected, but it pushed me to think deliberately about user experience and performance.</p>
</li>
</ul>
<p>The full design of the website (at least as of the time of publishing this article) can be seen below:</p>
<svg id="mermaid-4" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1726.46875px;" viewBox="0 0 1726.46875 686" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-4{font-family:arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-4 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-4 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-4 .error-icon{fill:#552222;}#mermaid-4 .error-text{fill:#552222;stroke:#552222;}#mermaid-4 .edge-thickness-normal{stroke-width:1px;}#mermaid-4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-4 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-4 .marker{fill:#333333;stroke:#333333;}#mermaid-4 .marker.cross{stroke:#333333;}#mermaid-4 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-4 p{margin:0;}#mermaid-4 .label{font-family:arial,sans-serif;color:#333;}#mermaid-4 .cluster-label text{fill:#333;}#mermaid-4 .cluster-label span{color:#333;}#mermaid-4 .cluster-label span p{background-color:transparent;}#mermaid-4 .label text,#mermaid-4 span{fill:#333;color:#333;}#mermaid-4 .node rect,#mermaid-4 .node circle,#mermaid-4 .node ellipse,#mermaid-4 .node polygon,#mermaid-4 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-4 .rough-node .label text,#mermaid-4 .node .label text,#mermaid-4 .image-shape .label,#mermaid-4 .icon-shape .label{text-anchor:middle;}#mermaid-4 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-4 .rough-node .label,#mermaid-4 .node .label,#mermaid-4 .image-shape .label,#mermaid-4 .icon-shape .label{text-align:center;}#mermaid-4 .node.clickable{cursor:pointer;}#mermaid-4 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-4 .arrowheadPath{fill:#333333;}#mermaid-4 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-4 .flowchart-link{stroke:#333333;fill:none;}#mermaid-4 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-4 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-4 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-4 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-4 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-4 .cluster text{fill:#333;}#mermaid-4 .cluster span{color:#333;}#mermaid-4 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-4 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-4 rect.text{fill:none;stroke-width:0;}#mermaid-4 .icon-shape,#mermaid-4 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-4 .icon-shape p,#mermaid-4 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-4 .icon-shape rect,#mermaid-4 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-4 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-4 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-4 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker id="mermaid-4_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-4_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-4_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-4_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-4_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-4_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M774.938,149.191L815.115,156.159C855.292,163.127,935.646,177.064,975.823,187.532C1016,198,1016,205,1016,208.5L1016,212" id="L_A_A1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_A1_0" data-points="W3sieCI6Nzc0LjkzNzUsInkiOjE0OS4xOTA3OTEzNTk0MDc5N30seyJ4IjoxMDE2LCJ5IjoxOTF9LHsieCI6MTAxNiwieSI6MjE2fV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1104.359,294L1113.799,298.167C1123.24,302.333,1142.12,310.667,1200.479,322.157C1258.838,333.648,1356.675,348.296,1405.594,355.62L1454.513,362.944" id="L_A1_A2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A1_A2_0" data-points="W3sieCI6MTEwNC4zNTkzNzUsInkiOjI5NH0seyJ4IjoxMTYxLCJ5IjozMTl9LHsieCI6MTQ1OC40Njg3NSwieSI6MzYzLjUzNjU4ODkzMTkzOTV9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M998.795,294L996.957,298.167C995.118,302.333,991.442,310.667,989.604,318.333C987.766,326,987.766,333,987.766,336.5L987.766,340" id="L_A1_A3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A1_A3_0" data-points="W3sieCI6OTk4Ljc5NDY3NzczNDM3NSwieSI6Mjk0fSx7IngiOjk4Ny43NjU2MjUsInkiOjMxOX0seyJ4Ijo5ODcuNzY1NjI1LCJ5IjozNDR9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M716.18,166L716.18,170.167C716.18,174.333,716.18,182.667,716.18,192.333C716.18,202,716.18,213,716.18,218.5L716.18,224" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6NzE2LjE3OTY4NzUsInkiOjE2Nn0seyJ4Ijo3MTYuMTc5Njg3NSwieSI6MTkxfSx7IngiOjcxNi4xNzk2ODc1LCJ5IjoyMjh9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M657.422,146.214L596.62,153.678C535.819,161.142,414.216,176.071,353.415,189.036C292.613,202,292.613,213,292.613,218.5L292.613,224" id="L_A_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_E_0" data-points="W3sieCI6NjU3LjQyMTg3NSwieSI6MTQ2LjIxMzUyMzU1ODMyNjMzfSx7IngiOjI5Mi42MTMyODEyNSwieSI6MTkxfSx7IngiOjI5Mi42MTMyODEyNSwieSI6MjI4fV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1574.703,62L1574.703,66.167C1574.703,70.333,1574.703,78.667,1574.703,86.333C1574.703,94,1574.703,101,1574.703,104.5L1574.703,108" id="L_I_I1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_I1_0" data-points="W3sieCI6MTU3NC43MDMxMjUsInkiOjYyfSx7IngiOjE1NzQuNzAzMTI1LCJ5Ijo4N30seyJ4IjoxNTc0LjcwMzEyNSwieSI6MTEyfV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1581.851,166L1582.954,170.167C1584.057,174.333,1586.263,182.667,1587.366,197.5C1588.469,212.333,1588.469,233.667,1588.469,255C1588.469,276.333,1588.469,297.667,1588.469,311.833C1588.469,326,1588.469,333,1588.469,336.5L1588.469,340" id="L_I1_A2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I1_A2_0" data-points="W3sieCI6MTU4MS44NTA2NjEwNTc2OTI0LCJ5IjoxNjZ9LHsieCI6MTU4OC40Njg3NSwieSI6MTkxfSx7IngiOjE1ODguNDY4NzUsInkiOjI1NX0seyJ4IjoxNTg4LjQ2ODc1LCJ5IjozMTl9LHsieCI6MTU4OC40Njg3NSwieSI6MzQ0fV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1467.781,161.356L1444.151,166.296C1420.521,171.237,1373.26,181.119,1349.63,189.559C1326,198,1326,205,1326,208.5L1326,212" id="L_I1_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I1_J_0" data-points="W3sieCI6MTQ2Ny43ODEyNSwieSI6MTYxLjM1NTcyMDI5OTA1MTN9LHsieCI6MTMyNiwieSI6MTkxfSx7IngiOjEzMjYsInkiOjIxNn1d" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1326,410L1326,416.167C1326,422.333,1326,434.667,1326,446.333C1326,458,1326,469,1326,474.5L1326,480" id="L_K_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_K_H_0" data-points="W3sieCI6MTMyNiwieSI6NDEwfSx7IngiOjEzMjYsInkiOjQ0N30seyJ4IjoxMzI2LCJ5Ijo0ODR9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1326,538L1326,544.167C1326,550.333,1326,562.667,1275.117,576.247C1224.233,589.827,1122.467,604.655,1071.584,612.069L1020.7,619.482" id="L_H_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_G_0" data-points="W3sieCI6MTMyNiwieSI6NTM4fSx7IngiOjEzMjYsInkiOjU3NX0seyJ4IjoxMDE2Ljc0MjE4NzUsInkiOjYyMC4wNTg5NTk1Mzc1NzIzfV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M292.613,282L292.613,288.167C292.613,294.333,292.613,306.667,292.613,316.333C292.613,326,292.613,333,292.613,336.5L292.613,340" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MjkyLjYxMzI4MTI1LCJ5IjoyODJ9LHsieCI6MjkyLjYxMzI4MTI1LCJ5IjozMTl9LHsieCI6MjkyLjYxMzI4MTI1LCJ5IjozNDR9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M386.988,422L397.071,426.167C407.153,430.333,427.319,438.667,437.402,446.333C447.484,454,447.484,461,447.484,464.5L447.484,468" id="L_F_F2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_F2_0" data-points="W3sieCI6Mzg2Ljk4Nzg1NDAwMzkwNjI1LCJ5Ijo0MjJ9LHsieCI6NDQ3LjQ4NDM3NSwieSI6NDQ3fSx7IngiOjQ0Ny40ODQzNzUsInkiOjQ3Mn1d" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M447.484,550L447.484,554.167C447.484,558.333,447.484,566.667,498.368,578.247C549.251,589.827,651.017,604.655,701.901,612.069L752.784,619.482" id="L_F2_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F2_G_0" data-points="W3sieCI6NDQ3LjQ4NDM3NSwieSI6NTUwfSx7IngiOjQ0Ny40ODQzNzUsInkiOjU3NX0seyJ4Ijo3NTYuNzQyMTg3NSwieSI6NjIwLjA1ODk1OTUzNzU3MjN9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M198.239,422L188.156,426.167C178.073,430.333,157.908,438.667,147.825,448.333C137.742,458,137.742,469,137.742,474.5L137.742,480" id="L_F_F1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_F1_0" data-points="W3sieCI6MTk4LjIzODcwODQ5NjA5Mzc1LCJ5Ijo0MjJ9LHsieCI6MTM3Ljc0MjE4NzUsInkiOjQ0N30seyJ4IjoxMzcuNzQyMTg3NSwieSI6NDg0fV0=" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M716.18,282L716.18,288.167C716.18,294.333,716.18,306.667,716.18,318.333C716.18,330,716.18,341,716.18,346.5L716.18,352" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NzE2LjE3OTY4NzUsInkiOjI4Mn0seyJ4Ijo3MTYuMTc5Njg3NSwieSI6MzE5fSx7IngiOjcxNi4xNzk2ODc1LCJ5IjozNTZ9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M716.18,410L716.18,416.167C716.18,422.333,716.18,434.667,716.18,446.333C716.18,458,716.18,469,716.18,474.5L716.18,480" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6NzE2LjE3OTY4NzUsInkiOjQxMH0seyJ4Ijo3MTYuMTc5Njg3NSwieSI6NDQ3fSx7IngiOjcxNi4xNzk2ODc1LCJ5Ijo0ODR9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path><path d="M1326,294L1326,298.167C1326,302.333,1326,310.667,1326,320.333C1326,330,1326,341,1326,346.5L1326,352" id="L_J_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_K_0" data-points="W3sieCI6MTMyNiwieSI6Mjk0fSx7IngiOjEzMjYsInkiOjMxOX0seyJ4IjoxMzI2LCJ5IjozNTZ9XQ==" marker-end="url(#mermaid-4_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_A1_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A1_A2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A1_A3_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_A_E_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_I_I1_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_I1_A2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_I1_J_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_K_H_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_H_G_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_E_F_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_F_F2_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_F2_G_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_F_F1_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_J_K_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(716.1796875, 139)"><rect class="basic label-container" style="" x="-58.7578125" y="-27" width="117.515625" height="54"></rect><g class="label" style="" transform="translate(-28.7578125, -12)"><rect></rect><foreignObject width="57.515625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Website</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-A1-1" transform="translate(1016, 255)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Next.js Runtime (App Router)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-A2-3" transform="translate(1588.46875, 383)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Dynamic Routes / MDX Rendering</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-A3-5" transform="translate(987.765625, 383)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>ConsentManager / Cookie Banner</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-B-7" transform="translate(716.1796875, 255)"><rect class="basic label-container" style="" x="-119.8203125" y="-27" width="239.640625" height="54"></rect><g class="label" style="" transform="translate(-89.8203125, -12)"><rect></rect><foreignObject width="179.640625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Google Analytics 4 (GA4)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-E-9" transform="translate(292.61328125, 255)"><rect class="basic label-container" style="" x="-80.25" y="-27" width="160.5" height="54"></rect><g class="label" style="" transform="translate(-50.25, -12)"><rect></rect><foreignObject width="100.5" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Chat Interface</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-I-10" transform="translate(1574.703125, 35)"><rect class="basic label-container" style="" x="-116.6953125" y="-27" width="233.390625" height="54"></rect><g class="label" style="" transform="translate(-86.6953125, -12)"><rect></rect><foreignObject width="173.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Markdown (.mdx) Pages</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-I1-11" transform="translate(1574.703125, 139)"><rect class="basic label-container" style="" x="-106.921875" y="-27" width="213.84375" height="54"></rect><g class="label" style="" transform="translate(-76.921875, -12)"><rect></rect><foreignObject width="153.84375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Frontmatter Metadata</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-J-15" transform="translate(1326, 255)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Runtime Script (mdx → html compiler)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-K-16" transform="translate(1326, 383)"><rect class="basic label-container" style="" x="-82.46875" y="-27" width="164.9375" height="54"></rect><g class="label" style="" transform="translate(-52.46875, -12)"><rect></rect><foreignObject width="104.9375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>CI/CD Pipeline</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-H-17" transform="translate(1326, 511)"><rect class="basic label-container" style="" x="-125.7421875" y="-27" width="251.484375" height="54"></rect><g class="label" style="" transform="translate(-95.7421875, -12)"><rect></rect><foreignObject width="191.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>S3 HTML Files &#x26; Metadata</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-G-19" transform="translate(886.7421875, 639)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>AWS Bedrock Knowledge Base</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F-21" transform="translate(292.61328125, 383)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Backend API / Bedrock Runtime</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F2-23" transform="translate(447.484375, 511)"><rect class="basic label-container" style="" x="-130" y="-39" width="260" height="78"></rect><g class="label" style="" transform="translate(-100, -24)"><rect></rect><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Prompt Template / System Instruction</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-F1-27" transform="translate(137.7421875, 511)"><rect class="basic label-container" style="" x="-129.7421875" y="-27" width="259.484375" height="54"></rect><g class="label" style="" transform="translate(-99.7421875, -12)"><rect></rect><foreignObject width="199.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>IAM Role / AWS Credentials</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-C-29" transform="translate(716.1796875, 383)"><rect class="basic label-container" style="" x="-63.3515625" y="-27" width="126.703125" height="54"></rect><g class="label" style="" transform="translate(-33.3515625, -12)"><rect></rect><foreignObject width="66.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>BigQuery</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-D-31" transform="translate(716.1796875, 511)"><rect class="basic label-container" style="" x="-88.6953125" y="-27" width="177.390625" height="54"></rect><g class="label" style="" transform="translate(-58.6953125, -12)"><rect></rect><foreignObject width="117.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Power BI Report</p></span></div></foreignObject></g></g></g></g></g></svg>
<p>In the end, the project became a live demonstration of the same principles I apply professionally. <strong>Structured data</strong>, <strong>measurable outcomes</strong>, and <strong>continuous improvement</strong>. Every page, every event, and even every variant test is part of a feedback loop that makes both the codebase and the insights stronger over time.</p>